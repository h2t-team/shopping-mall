<main>
    <section class="shop-section">
        <div class="container">
            {{#if product}}
            <div class="border mb-3">
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr class=" table-primary">
                                <th scope="col" style="min-width: 250px;">Product</th>
                                <th scope="col" class="text-center">Price</th>
                                <th scope="col">Quantity</th>
                                <th scope="col" class="text-center">Size</th>
                                <th scope="col" class="text-center">Total</th>
                                <th scope="col" class="text-center"></th>
                            </tr>
                        </thead>
                        <tbody>
                            {{#each product }}
                            <tr>
                                <input type="hidden" value={{'product_id'}}>
                                <td>
                                    <div class="media">
                                        <div class="d-flex">
                                            <img src={{'product.product_images.image_url'}} alt="product-image" />
                                            <div class="media-body ms-2 ms-lg-5 fs-6 w-100">
                                                <p>{{'product.name'}}</p>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                                <td class="text-center">
                                    <h5>{{currencyFormat this.[product.price]}}</h5>
                                </td>
                                <td>
                                    <div class="product_count">
                                        <input type="number" name="qty" value={{quantity}} title="Quantity:"
                                            class="form-control" min="1">
                                    </div>
                                </td>
                                <td class="size text-center">
                                    <h5>{{size}}</h5>
                                </td>
                                <td class="text-center">
                                    <h5>{{currencyFormat total}}</h5>
                                </td>
                                <td class="text-center">
                                    <a href="javascript:void(0)" class="delete-btn"><i class="fas fa-times"></i></a>
                                </td>
                            </tr>
                            {{/each}}
                        </tbody>
                    </table>
                </div>
                <div class="d-flex mx-3 pb-3">
                    <div class="">
                        <a class="gray-btn my-2" id="update-cart" href="#">Update Cart</a>
                    </div>
                </div>
            </div>
            <div class="border p-2">
                <div class="d-flex justify-content-sm-end justify-content-center p-3 border-bottom">
                    <h5 class="m-2 p-2">Total:</h5>
                    <h5 class="m-2 p-2">{{currencyFormat ./total}}</h5>
                </div>
                <div class="">
                    <div class="d-flex py-2 justify-content-sm-end justify-content-center align-items-center flex-wrap text-center">
                        <a class="gray-btn m-2" href="/product">Continue Shopping</a>
                        <a class="btn rounded-pill m-2" href="/order/checkout">Check Out</a>
                    </div>
                </div>
            </div>
            {{else}}
            <div class="d-flex flex-column align-items-center">
                <div class="my-2">
                    <img src="/images/empty.png" width="100" alt="empty">
                </div>
                <div class="my-2 text-center">
                    <h4>Your shopping cart is empty</h4>
                </div>
                <div class="my-2">
                    <a class="btn rounded-pill mx-3" href="/product">Go Shopping Now</a>
                </div>
            </div>
            {{/if}}
        </div>
    </section>
    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
        <div id="failed-toast" class="toast align-items-center text-white bg-danger border-0" role="alert"
            aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body">
                    Fields are invalid.
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
                    aria-label="Close"></button>
            </div>
        </div>
    </div>
</main>