<main>
   <div class="container d-flex justify-content-center align-items-center vh-100">
        <div class="text-center p-5 mt-3 center shadow">
           <div class="side-box">
              <h3 class="text-uppercase text-center mb-5 fw-bold">Forgot Password? </h3>
            <form class="pb-3 email-form" id="email-form">
               <div class="form-group">
                  <input id="email" name="email" type="text" class="form-control" aria-describedby="emailHelp" placeholder="Your Email" required>
                  <p class="pb-4">We will send reset password link to your email</p>
               </div>
               <input class="form-control mb-2" type="submit" id="sendBtn" value="Send" />
            </form>
           </div>
        </div>
   </div>
</main>
<script>
   $("#email-form").validate({
      rules: {
         "email": {
            required: true,
            email: true,
         }
      },
      messages: {
         "email": {
            required: "Please provide an email",
            email: "You have entered an invalid email address"
         },
      },
      errorPlacement: function(error, element) {
         isValid = false;
         element.css('background-color', '#ffdddd');
         error.css('color', 'red');
         error.css('margin-top', '10px');
         error.insertAfter(element);
      },
      unhighlight: function(element, errorClass, validClass) {
         isValid = true;
         $(element).removeClass(errorClass).addClass(validClass);
         $(element.form).find("label[for=" + element.id + "]").removeClass(errorClass);
         $(element).css('background-color', 'var(--mint)');
      },
      submitHandler: function(form, event) {
         event.preventDefault();
         submitForm();
      }
   });
   function submitForm() {
      const email =   $("#email").val();
      console.log("EMAIL",email)
      $.ajax({
         contentType: "application/json",
         url: '/auth/forgot-password',
         dataType: "json",
         type: 'POST', // http method
         data: JSON.stringify({email:email }), // data to submit
      }).done((res) => {
            $('#sendBtn').prop('disabled', true);
            alert("Send sucessfully");
      });
   }
</script>
<style>
   .email-form input[type=submit] {
      background-color: var(--primary);
      color: var(--white);
      border-radius: 10rem;
      border: 1px solid var(--primary);
      transition: all 0.3s;
   }
   .email-form input[type=submit]:hover {
      background-color: var(--white);
         color: var(--primary);
      font-weight: 500;
      transition: all 0.3s;
   }
</style>